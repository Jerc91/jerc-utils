self.importScripts('/assets/js/workers/requester-tools.js'),self.requester={},function(){function a(){function a(a){return f=a}return k?Promise.resolve():caches.keys().then((b)=>Promise.all(b.map(function(a,c){if(a!==g)return caches.delete(b[c])})).then(()=>caches.has(g).then((b)=>{let c=caches.open(g);return b?c.then(a):c.then((b)=>a(b).addAll(h))}).then(()=>k=!0))).catch(self.tools.error)}function b(a){return f.match(new Request(a.src)).then(function(b){return b?self.tools.getResult(a,b):self.tools.sendRequest(a)})}function c(a,b){return a.date=new Date,f.put(b.url,b.clone()),self.tools.getResult(a,b)}function d(a){self.clients.matchAll().then(function(b){b.forEach(function(b){e(b,a)})})}function e(a,b){return new Promise(function(c,d){var e=new MessageChannel;e.port1.onmessage=function(a){a.data.error?d(a.data.error):c(a.data)},a.postMessage('SW Says: \''+b+'\'',[e.port2])})}var f,g='0.1.2197',h=['assets/css/no-save.css','assets/fonts/fontawesome-webfont.ttf','assets/fonts/fontawesome-webfont.woff2','assets/fonts/roboto/Roboto-Light.woff2','assets/fonts/roboto/Roboto-Regular.ttf','assets/fonts/roboto/Roboto-Regular.woff2','assets/js/jmain.js','assets/js/workers/filesystem-worker.js','assets/js/workers/requester-tools.js','controllers/controller-main.js','favicon.ico','index.html'],i='',j='assets/config/filesToUpdate.json',k=!1,l=[];l=location.href.split('/'),i=l.splice(0,l.length-1).join('/'),i+='/',self.tools.factoryError(d),this.install=function(b){var c;c=a().then(function(){return self.skipWaiting()}).catch(self.tools.error),b.waitUntil(c)},this.activate=function(b){var c=a().then(function(){return self.clients.claim()}).catch(self.tools.error);b.waitUntil(c)},this.fetch=function(b){var c=a().then(function(){var a,c=b.request,d=c.url.replace(i,'');return a=d&&-1===d.indexOf('#!')?d:'index.html',f.match(a).then(function(a){return a?a:fetch(b.request.clone()).then(function(a){if(!a||200!==a.status)return a;var c=a.clone();return f.put(b.request,c),a})})});return b.respondWith(c)},this.message=function(a){return a.data.saveFile=c,a.data.getSavedFile=b,navigator.onLine||a.data.src!=j?self.tools.getFile(a.data).then(function(b){return a.ports[0].postMessage(b)},function(b){return a.ports[0].postMessage(b)}):a.ports[0].postMessage({result:[],path:j,observedId:a.data.observedId})},this.error=d}.call(self.requester),self.addEventListener('install',self.requester.install),self.addEventListener('activate',self.requester.activate),self.addEventListener('fetch',self.requester.fetch),self.addEventListener('message',self.requester.message);