(function(){function a(a,f){var g=this,h=g.popup=document.getElementById(i),j=g.popup.cloneNode(!0),m=j.querySelector(`.${q}`),s=j.querySelector(`.${r.replace(/ /g,".")}`),t=j.querySelector(`.${l}`),u=j.querySelector(`.${k}`),v=h.parentNode;return"string"==typeof a&&(a=document.createRange().createContextualFragment(a)),t.firstElementChild&&t.removeChild(t.firstElementChild),j.querySelector(`.${l}`).appendChild(a),j&&(m.handlerClick=m.handlerClick||b.bind(g,null),m.removeEventListener("click",m.handlerClick),m.addEventListener("click",m.handlerClick),s.handlerClick=s.handlerClick||b.bind(g,null),s.removeEventListener("click",s.handlerClick),s.addEventListener("click",s.handlerClick),v.handlerKeyDown&&v.removeEventListener("keydown",v.handlerKeyDown),v.handlerKeyDown=c.bind(g),v.addEventListener("keydown",v.handlerKeyDown)),f&&(j.classList.add(p),m.removeEventListener("click",m.handlerClick),s.removeEventListener("click",s.handlerClick),v.handlerKeyDown&&v.removeEventListener("keydown",v.handlerKeyDown)),u.handlerAnimationStart=u.handlerAnimationStart||d.bind(g),u.handlerAnimationEnd=u.handlerAnimationEnd||e.bind(g),u.removeEventListener("animationstart",u.handlerAnimationStart),u.addEventListener("animationstart",u.handlerAnimationStart),u.removeEventListener("animationend",u.handlerAnimationEnd),u.addEventListener("animationend",u.handlerAnimationEnd),g.content=u,g.animationsCount=0,j.classList.add(n),j.classList.add(o),h.replaceWith(j),g.active=!0,g.popup=document.getElementById(i),g}function b(a){var b=this,c=b.popup||document.getElementById(i);if(b.popup=c,!a||b.popup.isEqualNode(a.target))return c&&(c.classList.remove(n),c.classList.remove(p),c.classList.add(m)),b}function c(a){var b=this;27==a.keyCode&&b.hide()}function d(a){a.preventDefault();var b=this;if(b.content.isEqualNode(a.target))return++b.animationsCount,b}function e(a){a.preventDefault();var b=this;if(b.content.isEqualNode(a.target))return b.active=!0,2<=b.animationsCount&&(b.animationsCount=0,b.popup.className=i,b.active=!1),b}function f(a){var b=this,c="#"+i+" ."+r.replace(/ /g,"."),d=document.querySelector(c);if(!d){var e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("a");e.id=i,e.classList.add(j),f.classList.add(k),d=document.createElement("a"),d.setAttribute("class",r),d.setAttribute("title","cerrar"),g.classList.add(l),h.classList.add(q),f.appendChild(d),f.appendChild(g),e.appendChild(f),e.appendChild(h),b.popup=e,document.querySelector(a||"body").appendChild(e)}return b}function g(a){return new f(a)}var h=this,i="lightbox",j="lightbox",k="content",l="contentLB",m="out",n="in",o="active",p="inactived",q="bg",r="close fa fa-times-circle";f.prototype.show=a,f.prototype.hide=b,f.prototype.then=function(a){var b=this;return 1==b.animationsCount?b.callback=a:0==!b.animationsCount?b.callback=a:a(),b},g.show=a,g.hide=b,jr.addNS("jlightbox",g),jr.jlightbox.show=a,jr.jlightbox.hide=b})();