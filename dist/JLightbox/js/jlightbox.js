(function(){function s(e,i){var f=this,g=f.popup=document.getElementById(x),h=f.popup.cloneNode(!0),j=h.querySelector(`.${p}`),m=h.querySelector(`.${q.replace(/ /g,".")}`),r=h.querySelector(`.${k}`),s=h.querySelector(`.${y}`),t=g.parentNode;return"string"==typeof e&&(e=document.createRange().createContextualFragment(e)),r.firstElementChild&&r.removeChild(r.firstElementChild),e&&h.querySelector(`.${k}`).appendChild(e),h&&(j.handlerClick=j.handlerClick||w.bind(f),j.removeEventListener("click",j.handlerClick),j.addEventListener("click",j.handlerClick),m.handlerClick=m.handlerClick||w.bind(f),m.removeEventListener("click",m.handlerClick),m.addEventListener("click",m.handlerClick),t.handlerKeyDown&&t.removeEventListener("keydown",t.handlerKeyDown),t.handlerKeyDown=b.bind(f),t.addEventListener("keydown",t.handlerKeyDown)),i&&(h.classList.add(o),j.removeEventListener("click",j.handlerClick),m.removeEventListener("click",m.handlerClick),t.handlerKeyDown&&t.removeEventListener("keydown",t.handlerKeyDown)),s.handlerAnimationStart=s.handlerAnimationStart||c.bind(f),s.handlerAnimationEnd=s.handlerAnimationEnd||d.bind(f),s.removeEventListener("animationstart",s.handlerAnimationStart),s.addEventListener("animationstart",s.handlerAnimationStart),s.removeEventListener("animationend",s.handlerAnimationEnd),s.addEventListener("animationend",s.handlerAnimationEnd),f.content=s,f.animationsCount=0,h.classList.add(l),h.classList.add(n),g.replaceWith(h),f.active=!0,f.popup=document.getElementById(x),f}function w(){var c=this,a=c.popup||document.getElementById(x);return c.popup=a,a&&(a.classList.remove(l),a.classList.remove(o),a.classList.add(g)),c}function b(c){var a=this;27==c.keyCode&&a.hide()}function c(c){c.preventDefault();var a=this;if(a.content.isEqualNode(c.target))return++a.animationsCount,a}function d(c){c.preventDefault();var a=this;if(a.content.isEqualNode(c.target))return a.active=!0,2<=a.animationsCount&&(a.animationsCount=0,a.popup.className=x,a.active=!1),a}function e(j){var a=this,b="#"+x+" ."+q.replace(/ /g,"."),c=document.querySelector(b);if(!c){var l=document.createElement("div"),e=document.createElement("div"),m=document.createElement("div"),g=document.createElement("a");l.id=x,l.classList.add(i),e.classList.add(y),c=document.createElement("a"),c.setAttribute("class",q),c.setAttribute("title","cerrar"),m.classList.add(k),g.classList.add(p),e.appendChild(c),e.appendChild(m),l.appendChild(e),l.appendChild(g),a.popup=l,document.querySelector(j||"body").appendChild(l)}return a}function a(b){return new e(b)}var f=this,x="lightbox",i="lightbox",y="content",k="contentLB",g="out",l="in",n="active",o="inactived",p="bg",q="close fa fa-times-circle";e.prototype.show=s,e.prototype.hide=w,e.prototype.then=function(c){var a=this;return 1==a.animationsCount?a.callback=c:0==!a.animationsCount?a.callback=c:c(),a},a.show=s,a.hide=w,jr.addNS("jlightbox",a),jr.jlightbox.show=s,jr.jlightbox.hide=w})();