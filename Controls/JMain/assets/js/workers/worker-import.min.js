self.requestFileSystemSync=self.webkitRequestFileSystemSync||self.requestFileSystemSync;var ajax={},mimes={blob:"application/octet-stream",css:'text/css; charset="utf-8"',img:"image/jpeg",js:'text/javascript; charset="utf-8"',json:'application/json; charset="utf-8"',text:'text/plain; charset="utf-8"',formQ:"application/x-www-form-urlencoded",formData:"multipart/form-data"};(function(){function a(a){console.log("Error: "+a.message+"\n"+i.name)}function b(a){requestFileSystemSync?i.fs=requestFileSystemSync(TEMPORARY,i.localSizeFiles):a.cache=!1,i.name=a.src.split("/"),i.name=i.name[i.name.length-1],i.hostPath=location.href.substring(0,location.href.indexOf("assets")),h(a,{cache:!0,isText:"json"==a.mime||"text"==a.mime||"formQ"==a.mime,method:"GET",mime:"js",text:null,update:!1}),i.mime=mimes[a.mime],a.files&&(i.file=a.files.fnFind(function(a){return i.name==a.name})),i.data=a}function c(){try{if(!i.data.cache)return void d();var b=i.fs.root.getFile(i.name,i.read);if(i.blob=b.file(),i.file&&new j(i.file.date)>i.blob.lastModifiedDate)return i.data.update=!0,void d(i.data);e()}catch(c){c.toString().indexOf("NotFoundError")>-1?(i.data.cache&&(i.data.update=!0),d(i.data)):a(c)}}function d(){i.hostPath[i.hostPath.length-1]==i.data.src[0]&&(i.data.src=i.data.src.substr(1,i.data.src.length-1)),i.xhr=new XMLHttpRequest,i.xhr.open(i.data.method,i.hostPath+i.data.src,!0),i.xhr.responseType="arraybuffer",i.xhr.setRequestHeader("Content-Type",i.mime),i.xhr.setRequestHeader("Cache-Control","max-age=0"),i.xhr.setRequestHeader("Pragma","No-cache"),i.xhr.setRequestHeader("Pragma","Cache-Control: no-cache"),i.xhr.overrideMimeType(i.mime),i.xhr.onreadystatechange=function(b){if(4==this.readyState)if(200==this.status){i.blob=new Blob([new Uint8Array(this.response)],{type:i.mime==mimes.formQ?mimes.json:i.mime});try{e()}catch(b){a(b)}}else postMessage({Estado:!1,Mensaje:b.responseText})};var b;if(i.data.value)switch(i.mime){case mimes.formQ:var b="";for(var c in i.data.value)form+=c+"="+i.data.value[c]+"&";break;case mimes.json:b=JSON.stringify(i.data.value)}i.xhr.send(b),i.xhr.addEventListener("error",a,!1)}function e(){if(i.data.isText){var a=new FileReaderSync;i.text=a.readAsText(i.blob),i.text=i.mime!=mimes.json&&i.mime!=mimes.formQ||!i.text.length?i.text:JSON.parse(i.text)}f(),postMessage({src:g(i.blob),result:i.text})}function f(){if(i.data.update){var a=i.fs.root.getFile(i.name,i.write);a.remove(),a=i.fs.root.getFile(i.name,i.write);var b=a.createWriter();b.write(i.blob)}}function g(){return URL.createObjectURL(i.blob)}function h(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=void 0!==arguments[0][b]?arguments[0][b]:arguments[a][b]);return arguments[0]}var i={localSizeFiles:10485760,read:{create:0},write:{create:1},name:[],fs:null,blob:null,mime:null,hostPath:null,data:null,file:null,xhr:null},j=function(a){var b=a.split("-");return new Date(b[0],b[1],b[2],b[3])};this.fnInit=b,this.fnGetFile=c,this.fnSaveFile=f,this.info=i}).apply(ajax),self.addEventListener("message",function(a){ajax.fnInit(a.data),ajax.fnGetFile()}),Array.prototype.fnFind||Object.defineProperty(Array.prototype,"fnFind",{enumerable:!1,configurable:!0,writable:!0,value:function(a,b){if(null==this)throw new TypeError("Array.prototype.fnFind called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var c,d=Object(this),e=d.length>>>0,f=arguments[1],g=[],h=0;e>h;h++)if(h in d&&(c=d[h],a.call(f,c,h,d))){if(!b)return c;g.push(c)}return b?g:void 0}});