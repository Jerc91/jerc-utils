!function(){function e(t){if(this.fnAddNS=function(t){if(t&&t.match(window.validateNS))return"undefined"==typeof this[t]&&(this[t]=new e),this[t]},t&&t.indexOf(".")){var n=this;t.split(".").forEach(function(e){n=n.fnAddNS(e)})}}function t(e){var t;try{for(var n=e.split("."),r=0;r<n.length;r++)t||0!=r||(t=window),t=t[n[r]];return t}catch(e){return p(e),null}}function n(t){if(!t)return!1;if(t.constructor===e&&!t)return!1;if(t.constructor===Array)for(var n in t)if(!t[n])return!1;return!0}function r(e){var t,n,r,a;return t=e.length?e:[e],r=Promise.all(t.map(window.useServiceWorker?o:i)).then(function(){if(h(n))return 1==t.length&&arguments[0].length?(arguments[0].push(s(window.REQUESTOBJECT,t[0])),n.apply(this,arguments[0])):n.apply(arguments)}),a={},a.then=function(e){return n=e,r},a}function i(e){var t;return t=e.then,delete e.then,new Promise(function(t,n){var r,i;r=m.command.instance,r.on("message",a),r.on("error",n),i=c(),i.observador.add(e.src,function(n){r.trigger(n.type,n.data,e,t)}),i.postMessage(d({files:window.filesToUpdate},e))}).then(function(n){return h(t)?void t(n,s(window.REQUESTOBJECT,e)):n}).catch(function(){console.log(arguments)})}function o(e){var t;return t=e.then,delete e.then,navigator.serviceWorker.controller||window.location.reload(),new Promise(function(t,n){var r=new MessageChannel;r.port1.onmessage=function(n){a(n.data,e,t)},navigator.serviceWorker.controller.postMessage(d({files:window.filesToUpdate},e),[r.port2])}).then(function(n){return h(t)?void t(n,s(window.REQUESTOBJECT,e)):n}).catch(function(){console.log(arguments)})}function a(e,t,n){var r,i;r={data:e.result,name:e.path},r.data=r.data||URL.createObjectURL(e.blob),i=/.*\.(css|js)$/gi.exec(r.name),e.result||!i||t.mime!=i[1]&&t.mime?n(r):l({href:r.data,type:i[1],name:r.name,fnCallTag:n,repeatTag:t.repeatTag})}function s(e,t){var n={};for(var r in t)r in e||(n[r]=t[r]);return n}function c(){function e(e){var n=t.observador.notify(e.data.path,e);t.observador.remove(n)}var t;return w=w||3,w>v.length&&(t=new Worker(window.urlWorkerImport||"assets/js/workers/worker-import.js"),t.observador=m.observer.instance,t.addEventListener("message",e,!1),t.addEventListener("error",e,!1),v.push(t)),g>=v.length&&(g=0),t=v[g],g++,t}function u(){return Promise.resolve().then(function(){return navigator.serviceWorker.register("./service-worker.js").then(function(e){console.log("Service Worker registrado con el contexto: "+e.scope)})}).then(function(){return navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()})}).catch(function(e){console.log(e),delete window.useServiceWorker})}function l(e){if(!e.repeatTag){var t=("js"==e.type?"script":"link")+'[data-name="'+e.name+'"]';if(document.querySelectorAll(t).length)return void(h(e.fnCallTag)&&e.fnCallTag(!0))}var n;switch(e.type){case"js":n=document.createElement("script"),n.setAttribute("src",e.href);break;case"css":n=document.createElement("link"),n.setAttribute("href",e.href),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css")}n.dataset.name=e.name,n.addEventListener("load",e.fnCallTag,!1),document.querySelector("body").appendChild(n)}function f(e){function t(){var t=r({src:e.srcFiles,cache:!1}).then(function(e){window.filesToUpdate=e.data});return h(n)?t.then(n):t}var n,i={};return e&&(w=e.workersCount,e.srcFiles=e.srcFiles||"assets/config/filesToUpdate.json",window.useServiceWorker=e.useSW&&!!navigator.serviceWorker),window.addEventListener("load",function(e){window.applicationCache.addEventListener("updateready",function(){window.applicationCache.status==window.applicationCache.UPDATEREADY&&(window.applicationCache.swapCache(),window.location.reload())},!1)},!1),window.Promise&&!window.useServiceWorker?t():(i.then=function(e){n=e,window.Promise||(window.fnPolyfills=t),window.useServiceWorker&&u().then(t)},i)}function d(){var e=arguments[0];delete arguments[0];for(var t in arguments)for(var n in arguments[t])e[n]=arguments[t][n];return e}function h(e){return"[object Function]"==Object.prototype.toString.call(e)}function p(e){console.log("Error: "+e.message)}var w,v=[],g=0,m=new e;if(!window.Promise){var y=document.createElement("script"),b=document.querySelector('script[src*="main.js"]');y.src="https://www.promisejs.org/polyfills/promise-6.1.0.js",y.addEventListener("load",function(){window.fnPolyfills()},!1),b?b.parentNode.insertBefore(y,b.nextSibling):document.body.appendChild(b)}!function(){function e(e){for(var t=this.length;t;){var n=this[--t];this[t]=[].concat(e.call(n,n,t),n)}this.sort(function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]!=t[n])return e[n]<t[n]?-1:1;return 0});for(var t=this.length;t;)this[--t]=this[t][this[t].length-1];return this}if("function"==typeof Object.defineProperty)try{Object.defineProperty(Array.prototype,"fnSortBy",{value:e})}catch(e){p(e)}Array.prototype.fnSortBy||(Array.prototype.fnSortBy=e),Array.prototype.fnFind||Object.defineProperty(Array.prototype,"fnFind",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(null==this)throw new TypeError("Array.prototype.fnFind called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n,r=Object(this),i=r.length>>>0,o=arguments[1],a=[],s=0;s<i;s++)if(s in r&&(n=r[s],e.call(o,n,s,r))){if(!t)return n;a.push(n)}return t?a:void 0}})}(),function(){Element.prototype.fnClosest=function(e){if(this.parentNode.nodeType===Node.ELEMENT_NODE)return this===this.parentNode.querySelector(e)?this:this.parentNode.fnClosest(e)}}(),function(){function e(e,t){if(e&&e.singletonInstance)return e;if(h(t))return e=t(),e.singletonInstance=!0,e}(function(){function e(){var e={},t={},n=this;return t.on=function(t,r){return e[t]=r,n},t.off=function(t){return delete e[t],n},t.trigger=function(t){return e[t]&&e[t].apply(e,[].slice.call(arguments,1))},t}this.instance=new e}).call(this.fnAddNS("command")),function(){function e(){function e(e,t){for(var r=t;r<n.length;){if(n[r]===e)return r;r++}return-1}var n=[],r={},i=this;return r.add=function(e,r){return n.push(new t(e,r)),i},r.remove=function(t){return n.splice(e(t,0),1),i},r.notify=function(e,t){var r=n.fnFind(function(t){return t.name===e});return r.update(t),r},r}function t(e,t){this.update=t,this.name=e}this.instance=new e}.call(this.fnAddNS("observer")),this.singleton=e}.call(m),this.Namespace=e,this.fnImport=t,this.fnDepenciesTrue=n,this.get=r,this.fnCreateScriptTemp=l,this.fnInitJMain=f,this.fnExtend=d,this.fnIsFunction=h,this.fnErrorHandler=p,this.patterns=m,this.validateNS=/^[a-zA-Z]?[a-zA-z0-9]+$/,countTags=0,this.URL=this.URL||this.webkitURL,this.requestFileSystem=this.requestFileSystem||this.webkitRequestFileSystem,this.persistentStorage=this.persistentStorage||navigator.webkitPersistentStorage,this.filesToUpdate=[],this.urlWorkerImport,this.ssl=location.origin.indexOf("https")>-1,this.REQUESTOBJECT=new function(){return{src:"{string} Ruta para el request.",then:"{function} Función de callback.",mime:"{string} Mime Type especial, este se puede obtener a través de la extensión.",cache:"{bool} Identifica si se debe realizar la petición al servidor.",method:"{string} Identifica el verbo que se debe usar en la petición.",value:"{Object} Valores que se enviaran en la petición."}},this.lang=document.querySelector("html").getAttribute("lang")}(window);var j=new Namespace;fnExtend(j,{Author:"Julian Ruiz",Created:"2016-08-10",Page:"http://jerc91.github.io/",Title:"JMain"});