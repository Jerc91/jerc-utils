(function(){function a(a,f){var g=this,h=g.popup=document.getElementById("lightbox"),i=g.popup.cloneNode(!0),j=i.querySelector(`.${"bg"}`),k=i.querySelector(`.${"close fa fa-times-circle".replace(/ /g,".")}`),l=i.querySelector(`.${"contentLB"}`),m=i.querySelector(`.${"content"}`),n=h.parentNode;return"string"==typeof a&&(a=document.createRange().createContextualFragment(a)),l.firstElementChild&&l.removeChild(l.firstElementChild),a&&i.querySelector(`.${"contentLB"}`).appendChild(a),i&&(j.handlerClick=j.handlerClick||b.bind(g),j.removeEventListener("click",j.handlerClick),j.addEventListener("click",j.handlerClick),k.handlerClick=k.handlerClick||b.bind(g),k.removeEventListener("click",k.handlerClick),k.addEventListener("click",k.handlerClick),n.handlerKeyDown&&n.removeEventListener("keydown",n.handlerKeyDown),n.handlerKeyDown=c.bind(g),n.addEventListener("keydown",n.handlerKeyDown)),f&&(i.classList.add("inactived"),j.removeEventListener("click",j.handlerClick),k.removeEventListener("click",k.handlerClick),n.handlerKeyDown&&n.removeEventListener("keydown",n.handlerKeyDown)),m.handlerAnimationStart=m.handlerAnimationStart||d.bind(g),m.handlerAnimationEnd=m.handlerAnimationEnd||e.bind(g),m.removeEventListener("animationstart",m.handlerAnimationStart),m.addEventListener("animationstart",m.handlerAnimationStart),m.removeEventListener("animationend",m.handlerAnimationEnd),m.addEventListener("animationend",m.handlerAnimationEnd),g.content=m,g.animationsCount=0,i.classList.add("in"),i.classList.add("active"),h.replaceWith(i),g.active=!0,g.popup=document.getElementById("lightbox"),g}function b(){var a=this,b=a.popup||document.getElementById("lightbox");return a.popup=b,b&&(b.classList.remove("in"),b.classList.remove("inactived"),b.classList.add("out")),a}function c(a){var b=this;27==a.keyCode&&b.hide()}function d(a){a.preventDefault();var b=this;if(b.content.isEqualNode(a.target))return++b.animationsCount,b}function e(a){a.preventDefault();var b=this;if(b.content.isEqualNode(a.target))return b.active=!0,2<=b.animationsCount&&(b.animationsCount=0,b.popup.className="lightbox",b.active=!1),b}function f(a){var b=this,c="#lightbox ."+"close fa fa-times-circle".replace(/ /g,"."),d=document.querySelector(c);if(!d){var e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("a");e.id="lightbox",e.classList.add("lightbox"),f.classList.add("content"),d=document.createElement("a"),d.setAttribute("class","close fa fa-times-circle"),d.setAttribute("title","cerrar"),g.classList.add("contentLB"),h.classList.add("bg"),f.appendChild(d),f.appendChild(g),e.appendChild(f),e.appendChild(h),b.popup=e,document.querySelector(a||"body").appendChild(e)}return b}function g(a){return new f(a)}var h=this;f.prototype.show=a,f.prototype.hide=b,f.prototype.then=function(a){var b=this;return 1==b.animationsCount?b.callback=a:0==!b.animationsCount?b.callback=a:a(),b},g.show=a,g.hide=b,jr.addNS("jlightbox",g),jr.jlightbox.show=a,jr.jlightbox.hide=b})();