(function(){function a(a,f){var g=this,h=g.popup=document.getElementById("lightbox"),i=g.popup.cloneNode(!0),j=i.querySelector(`.${"bg"}`),k=i.querySelector(`.${"close fa fa-times-circle".replace(/ /g,".")}`),l=i.querySelector(`.${"contentLB"}`),m=i.querySelector(`.${"content"}`),n=h.parentNode;return"string"==typeof a&&(a=document.createRange().createContextualFragment(a)),l.firstElementChild&&l.removeChild(l.firstElementChild),a&&i.querySelector(`.${"contentLB"}`).appendChild(a),i&&(j.handlerClick=j.handlerClick||b.bind(g),j.removeEventListener("click",j.handlerClick),j.addEventListener("click",j.handlerClick),k.handlerClick=k.handlerClick||b.bind(g),k.removeEventListener("click",k.handlerClick),k.addEventListener("click",k.handlerClick),n.handlerKeyDown&&n.removeEventListener("keydown",n.handlerKeyDown),n.handlerKeyDown=c.bind(g),n.addEventListener("keydown",n.handlerKeyDown)),f&&(i.classList.add("inactived"),j.removeEventListener("click",j.handlerClick),k.removeEventListener("click",k.handlerClick),n.handlerKeyDown&&n.removeEventListener("keydown",n.handlerKeyDown)),m.handlerAnimationStart=m.handlerAnimationStart||d.bind(g),m.handlerAnimationEnd=m.handlerAnimationEnd||e.bind(g),m.removeEventListener("animationstart",m.handlerAnimationStart),m.addEventListener("animationstart",m.handlerAnimationStart),m.removeEventListener("animationend",m.handlerAnimationEnd),m.addEventListener("animationend",m.handlerAnimationEnd),g.content=m,g.animationsCount=0,i.classList.add("in"),i.classList.add("active"),h.replaceWith(i),g.active=!0,g.popup=document.getElementById("lightbox"),g}function b(){var a=this,b=a.popup||document.getElementById("lightbox");return a.popup=b,b&&(b.classList.remove("in"),b.classList.remove("inactived"),b.classList.add("out")),a}function c(a){var b=this;27==a.keyCode&&b.hide()}function d(a){a.preventDefault();var b=this;if(b.content.isEqualNode(a.target))return++b.animationsCount,b}function e(a){a.preventDefault();var b=this;if(b.content.isEqualNode(a.target))return b.active=!0,2<=b.animationsCount&&(b.animationsCount=0,b.popup.className="lightbox",b.active=!1),b}function f(a){var b=this,c="#lightbox ."+"close fa fa-times-circle".replace(/ /g,"."),d=document.querySelector(c);if(!d){var e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("a");e.id="lightbox",e.classList.add("lightbox"),f.classList.add("content"),d=document.createElement("a"),d.setAttribute("class","close fa fa-times-circle"),d.setAttribute("title","cerrar"),g.classList.add("contentLB"),h.classList.add("bg"),f.appendChild(d),f.appendChild(g),e.appendChild(f),e.appendChild(h),b.popup=e,document.querySelector(a||"body").appendChild(e)}return b}function g(a){return new f(a)}var h=this;f.prototype.show=a,f.prototype.hide=b,f.prototype.then=function(a){var b=this;return 1==b.animationsCount?b.callback=a:0==!b.animationsCount?b.callback=a:a(),b},g.show=a,g.hide=b,jr.addNS("jlightbox",g),jr.jlightbox.show=a,jr.jlightbox.hide=b})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpsaWdodGJveC5qcyJdLCJuYW1lcyI6WyJmblNob3ciLCJodG1sIiwicmVtb3ZlRXZlbnRzIiwiY3R4IiwicG9wdXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicG9wdXBDbG9uZSIsImNsb25lTm9kZSIsInBvcHVwQmciLCJxdWVyeVNlbGVjdG9yIiwicG9wdXBDbG9zZSIsInJlcGxhY2UiLCJjb250ZW50TEIiLCJjb250ZW50IiwiY29udGVuZWRvclBvcHVwIiwicGFyZW50Tm9kZSIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwiaGFuZGxlckNsaWNrIiwiZm5IaWRlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlcktleURvd24iLCJmbktleURvd24iLCJjbGFzc0xpc3QiLCJhZGQiLCJoYW5kbGVyQW5pbWF0aW9uU3RhcnQiLCJmbkhhbmRsZXJBbmltYXRpb25TdGFydCIsImhhbmRsZXJBbmltYXRpb25FbmQiLCJmbkhhbmRsZXJBbmltYXRpb25FbmQiLCJhbmltYXRpb25zQ291bnQiLCJyZXBsYWNlV2l0aCIsImFjdGl2ZSIsInJlbW92ZSIsImUiLCJrZXlDb2RlIiwiaGlkZSIsInByZXZlbnREZWZhdWx0IiwiaXNFcXVhbE5vZGUiLCJ0YXJnZXQiLCJjbGFzc05hbWUiLCJKTGlnaHRib3giLCJxUGFyZW50IiwicXVlcnkiLCJjbG9zZU4iLCJ3cmFwcGVyIiwiY3JlYXRlRWxlbWVudCIsImJnIiwiaWQiLCJzZXRBdHRyaWJ1dGUiLCJmbkdldEluc3RhbmNlIiwiX2FyZ3MiLCJwcm90b3R5cGUiLCJzaG93IiwidGhlbiIsInJlc29sdmUiLCJjYWxsYmFjayIsImpyIiwiYWRkTlMiLCJqbGlnaHRib3giXSwibWFwcGluZ3MiOiJBQVVBLENBQUMsVUFBWSxDQStCVCxRQUFT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RE87IFxyXG4vLyBVc2FyIGRlcGVuY2lhIGEgam1haW4uanNcclxuLy8gUXVpdGFyIGxhIGluZm9ybWFjacOzbiBkZWwgcGx1Z2luIGNvbW8gb2JqZXRvIGRlIGpzIHkgZGVqYXJsbyBjb21vIGNvbWVudGFyaW8gY29tbyB0b2RvcyBsb3MgcGx1Z2luc1xyXG4vLyBjYW1iaWFyIHBhcmEgcXVlIHNlIGluaWNpZSBzb2xvXHJcbi8vIFF1aXRhciB0aW1lb3V0IHkgZGVqYXIgZXZlbnRvIGRlIHRyYW5zaWNpw7NuXHJcbi8vIFVzYXIgY2xvbmUsIGFuZCByZXBsYWNlV2l0aFxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gRXNwYWNpbyBkZSBub21icmUgcGFyYSBjcmVhciB1biBsaWdodGJveFxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBQcm9waWVkYWRlcyBwcml2YWRhc1xyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIHZhciBjdHggPSB0aGlzLFxyXG4gICAgICAgIGlkZW50aWZpZXIgPSBcImxpZ2h0Ym94XCIsXHJcbiAgICAgICAgY2xhc3NXcmFwcGVyID0gXCJsaWdodGJveFwiLFxyXG4gICAgICAgIGNsYXNzQ29udGVudCA9IFwiY29udGVudFwiLFxyXG4gICAgICAgIGNsYXNzQ29udGVudExCID0gXCJjb250ZW50TEJcIixcclxuICAgICAgICBjbGFzc091dCA9IFwib3V0XCIsXHJcbiAgICAgICAgY2xhc3NJbiA9IFwiaW5cIixcclxuICAgICAgICBjbGFzc0FjdGl2ZSA9IFwiYWN0aXZlXCIsXHJcbiAgICAgICAgY2xhc3NJbmFjdGl2ZWQgPSBcImluYWN0aXZlZFwiLFxyXG4gICAgICAgIGNsYXNzQmcgPSBcImJnXCIsXHJcbiAgICAgICAgY2xhc3NDbG9zZSA9IFwiY2xvc2UgZmEgZmEtdGltZXMtY2lyY2xlXCIsXHJcbiAgICAgICAgYWN0aXZlID0gZmFsc2U7XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgLy8gRnVuY3Rpb24gcGFyYSBtb3N0cmFyIGVsIExpZ2h0Ym94LCBhbCBpbmljaW8gc2UgbXVlc3RyYSB1bmEgYW5pbWFjacOzbi5cclxuICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAvLyBQYXLDoW1ldHJvczpcclxuICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAvLyBodG1sOiAgICAgICAgICAgIEVzIGVsIGh0bWwgcXVlIGNvbnRlbmRyw6EgZWwgbGlnaHRib3guXHJcbiAgICAgICAvLyByZW1vdmVFdmVudHM6ICAgIFNpIHNlIHBhc2Egw6lzdGUgcGFyw6FtZXRybyBzZSBxdWl0YXLDoW4gbG9zIGV2ZW50b3MsXHJcbiAgICAgICAvLyAgICAgICAgICAgICAgICAgIGNsaWNrIHkga2V5ZG93biBwYXJhIG9jdWx0YXIgZWwgbGlnaHRib3gsIHNlIG1hbnRlbmRyw6FcclxuICAgICAgIC8vICAgICAgICAgICAgICAgICAgdmlzaWJsZS5cclxuICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZm5TaG93KGh0bWwsIHJlbW92ZUV2ZW50cykge1xyXG4gICAgICAgIHZhciBjdHggPSB0aGlzLFxyXG4gICAgICAgICAgICBwb3B1cCA9IGN0eC5wb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkZW50aWZpZXIpLFxyXG4gICAgICAgICAgICBwb3B1cENsb25lID0gY3R4LnBvcHVwLmNsb25lTm9kZSh0cnVlKSxcclxuICAgICAgICAgICAgcG9wdXBCZyA9IHBvcHVwQ2xvbmUucXVlcnlTZWxlY3RvcihgLiR7Y2xhc3NCZ31gKSxcclxuICAgICAgICAgICAgcG9wdXBDbG9zZSA9IHBvcHVwQ2xvbmUucXVlcnlTZWxlY3RvcihgLiR7Y2xhc3NDbG9zZS5yZXBsYWNlKC8gL2csICcuJyl9YCksXHJcbiAgICAgICAgICAgIGNvbnRlbnRMQiA9IHBvcHVwQ2xvbmUucXVlcnlTZWxlY3RvcihgLiR7Y2xhc3NDb250ZW50TEJ9YCksXHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSBwb3B1cENsb25lLnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzQ29udGVudH1gKSxcclxuICAgICAgICAgICAgY29udGVuZWRvclBvcHVwID0gcG9wdXAucGFyZW50Tm9kZTtcclxuXHJcbiAgICAgICAgLy8gQXNpZ25hY2nDs24gSFRNTCwgTm9kZVxyXG4gICAgICAgIGlmICh0eXBlb2YgaHRtbCA9PT0gJ3N0cmluZycpIFxyXG4gICAgICAgICAgICBodG1sID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbCk7XHJcblxyXG4gICAgICAgIGlmKGNvbnRlbnRMQi5maXJzdEVsZW1lbnRDaGlsZCkgY29udGVudExCLnJlbW92ZUNoaWxkKGNvbnRlbnRMQi5maXJzdEVsZW1lbnRDaGlsZCk7XHJcbiAgICAgICAgaWYoaHRtbCkgcG9wdXBDbG9uZS5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc0NvbnRlbnRMQn1gKS5hcHBlbmRDaGlsZChodG1sKTtcclxuXHJcbiAgICAgICAgaWYgKHBvcHVwQ2xvbmUpIHtcclxuICAgICAgICAgICAgLy8gQmdcclxuICAgICAgICAgICAgcG9wdXBCZy5oYW5kbGVyQ2xpY2sgPSBwb3B1cEJnLmhhbmRsZXJDbGljayB8fCBmbkhpZGUuYmluZChjdHgpO1xyXG4gICAgICAgICAgICBwb3B1cEJnLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcG9wdXBCZy5oYW5kbGVyQ2xpY2spO1xyXG4gICAgICAgICAgICBwb3B1cEJnLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcG9wdXBCZy5oYW5kbGVyQ2xpY2spO1xyXG4gICAgICAgICAgICAvLyBDbG9zZVxyXG4gICAgICAgICAgICBwb3B1cENsb3NlLmhhbmRsZXJDbGljayA9IHBvcHVwQ2xvc2UuaGFuZGxlckNsaWNrIHx8IGZuSGlkZS5iaW5kKGN0eCk7XHJcbiAgICAgICAgICAgIHBvcHVwQ2xvc2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwb3B1cENsb3NlLmhhbmRsZXJDbGljayk7XHJcbiAgICAgICAgICAgIHBvcHVwQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwb3B1cENsb3NlLmhhbmRsZXJDbGljayk7XHJcbiAgICAgICAgICAgIC8vIEtleURvd25cclxuICAgICAgICAgICAgY29udGVuZWRvclBvcHVwLmhhbmRsZXJLZXlEb3duICYmIGNvbnRlbmVkb3JQb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY29udGVuZWRvclBvcHVwLmhhbmRsZXJLZXlEb3duKTtcclxuICAgICAgICAgICAgY29udGVuZWRvclBvcHVwLmhhbmRsZXJLZXlEb3duID0gZm5LZXlEb3duLmJpbmQoY3R4KTtcclxuICAgICAgICAgICAgY29udGVuZWRvclBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjb250ZW5lZG9yUG9wdXAuaGFuZGxlcktleURvd24pO1xyXG4gICAgICAgIH0gLy8gZW5kIGlmIHBvcHVwXHJcblxyXG4gICAgICAgIC8vIFNlIGVsaW1pbmFuIGxvcyBldmVudG9zIHBhcmEgcXVlIHNlIGNpZXJyZSBlbCBkb2N1bWVudG9cclxuICAgICAgICBpZiAocmVtb3ZlRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHBvcHVwQ2xvbmUuY2xhc3NMaXN0LmFkZChjbGFzc0luYWN0aXZlZCk7XHJcbiAgICAgICAgICAgIHBvcHVwQmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwb3B1cEJnLmhhbmRsZXJDbGljayk7XHJcbiAgICAgICAgICAgIHBvcHVwQ2xvc2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwb3B1cENsb3NlLmhhbmRsZXJDbGljayk7XHJcbiAgICAgICAgICAgIGNvbnRlbmVkb3JQb3B1cC5oYW5kbGVyS2V5RG93biAmJiBjb250ZW5lZG9yUG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNvbnRlbmVkb3JQb3B1cC5oYW5kbGVyS2V5RG93bik7XHJcbiAgICAgICAgfSAvLyBlbmQgaWZcclxuXHJcbiAgICAgICAgY29udGVudC5oYW5kbGVyQW5pbWF0aW9uU3RhcnQgPSBjb250ZW50LmhhbmRsZXJBbmltYXRpb25TdGFydCB8fCBmbkhhbmRsZXJBbmltYXRpb25TdGFydC5iaW5kKGN0eCk7XHJcbiAgICAgICAgY29udGVudC5oYW5kbGVyQW5pbWF0aW9uRW5kID0gY29udGVudC5oYW5kbGVyQW5pbWF0aW9uRW5kIHx8IGZuSGFuZGxlckFuaW1hdGlvbkVuZC5iaW5kKGN0eCk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uc3RhcnQnLCBjb250ZW50LmhhbmRsZXJBbmltYXRpb25TdGFydCk7XHJcbiAgICAgICAgY29udGVudC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25zdGFydCcsIGNvbnRlbnQuaGFuZGxlckFuaW1hdGlvblN0YXJ0KTtcclxuXHJcbiAgICAgICAgY29udGVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBjb250ZW50LmhhbmRsZXJBbmltYXRpb25FbmQpO1xyXG4gICAgICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgY29udGVudC5oYW5kbGVyQW5pbWF0aW9uRW5kKTtcclxuXHJcbiAgICAgICAgY3R4LmNvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgICAgIGN0eC5hbmltYXRpb25zQ291bnQgPSAwO1xyXG5cclxuICAgICAgICBwb3B1cENsb25lLmNsYXNzTGlzdC5hZGQoY2xhc3NJbik7XHJcbiAgICAgICAgcG9wdXBDbG9uZS5jbGFzc0xpc3QuYWRkKGNsYXNzQWN0aXZlKTtcclxuICAgICAgICBwb3B1cC5yZXBsYWNlV2l0aChwb3B1cENsb25lKTtcclxuXHJcbiAgICAgICAgY3R4LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgY3R4LnBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRlbnRpZmllcik7XHJcblxyXG4gICAgICAgIHJldHVybiBjdHg7XHJcbiAgICB9XHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8qXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBGdW5jdGlvbiBwYXJhIG9jdWx0YXIgZWwgTGlnaHRib3gsIGFsIGZpbmFsaXphciBzZSBtdWVzdHJhIHVuYSBhbmltYWNpw7NuXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBmbkhpZGUoZSkge1xyXG4gICAgICAgIHZhciBjdHggPSB0aGlzLFxyXG4gICAgICAgICAgICBwb3B1cCA9IGN0eC5wb3B1cCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZGVudGlmaWVyKTtcclxuICAgICAgICBjdHgucG9wdXAgPSBwb3B1cDtcclxuXHJcbiAgICAgICAgaWYgKHBvcHVwKSB7XHJcbiAgICAgICAgICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NJbik7XHJcbiAgICAgICAgICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NJbmFjdGl2ZWQpO1xyXG4gICAgICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKGNsYXNzT3V0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjdHg7O1xyXG4gICAgfVxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvKlxyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gQ3VhbmRvIHNlIHByZXNpb25lIGxhIHRlY2xhIGVzYyBzZSBvY3VsdGFyw6EgZWwgbGlnaHRib3guXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBQYXLDoW1ldHJvczpcclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIGU6ICAgRXZlbnRvXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBmbktleURvd24oZSkge1xyXG4gICAgICAgIHZhciBjdHggPSB0aGlzO1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcclxuICAgICAgICAgICAgY3R4LmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8qXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIGNvbnRyb2xhciBlbCBpbmljaW8gZGUgbGEgYW5pbWFjacOzblxyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gUGFyw6FtZXRyb3M6XHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBlOiAgIEV2ZW50b1xyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZm5IYW5kbGVyQW5pbWF0aW9uU3RhcnQoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdmFyIGN0eCA9IHRoaXM7XHJcbiAgICAgICAgaWYoIWN0eC5jb250ZW50LmlzRXF1YWxOb2RlKGUudGFyZ2V0KSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgICsrY3R4LmFuaW1hdGlvbnNDb3VudDtcclxuICAgICAgICByZXR1cm4gY3R4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIGNvbnRyb2xhciBlbCBmaW4gZGUgbGEgYW5pbWFjacOzblxyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gUGFyw6FtZXRyb3M6XHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBlOiAgIEV2ZW50b1xyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZm5IYW5kbGVyQW5pbWF0aW9uRW5kKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHZhciBjdHggPSB0aGlzO1xyXG4gICAgICAgIGlmKCFjdHguY29udGVudC5pc0VxdWFsTm9kZShlLnRhcmdldCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgY3R4LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgaWYoY3R4LmFuaW1hdGlvbnNDb3VudCA+PSAyKSB7XHJcbiAgICAgICAgICAgIGN0eC5hbmltYXRpb25zQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBjdHgucG9wdXAuY2xhc3NOYW1lID0gaWRlbnRpZmllcjtcclxuICAgICAgICAgICAgY3R4LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gSW5pY2lvIGRlbCBjb250cm9sXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBQYXLDoW1ldHJvczpcclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIHFQYXJlbnQ6IFNlbGVjdG9yIGRlbCBlbGVtZW50byBxdWUgY29udGVuZHLDoSBlbCBsaWdodGJveCwgc2kgw6lzdGUgc2UgcGFzYSBlbiBudWxvLFxyXG4gICAgICAgIC8vICAgICAgICAgIGVsIGVsZW1lbnRvIGJvZHksIHNlcsOhIHF1aWVuIGNvbnRlbmdhIGVsIGxpZ2h0Ym94XHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBKTGlnaHRib3gocVBhcmVudCkge1xyXG4gICAgICAgIHZhciBjdHggPSB0aGlzLFxyXG4gICAgICAgICAgICBxdWVyeSA9ICcjJyArIGlkZW50aWZpZXIgKyAnIC4nICsgY2xhc3NDbG9zZS5yZXBsYWNlKC8gL2csICcuJyksXHJcbiAgICAgICAgICAgIGNsb3NlTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocXVlcnkpO1xyXG5cclxuICAgICAgICBpZiAoIWNsb3NlTikge1xyXG4gICAgICAgICAgICAvLyBTZSBjcmVhIGVsIGNvbnRlbmVkb3IgZGVsIGxpZ2h0Ym94XHJcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICAgICAgICAgICAgICBjb250ZW50TEIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuICAgICAgICAgICAgICAgIGJnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cclxuICAgICAgICAgICAgd3JhcHBlci5pZCA9IGlkZW50aWZpZXI7XHJcbiAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZChjbGFzc1dyYXBwZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2UgY3JlYSBlbCBjb250ZW5pZG8gZGVsIGxpZ2hib3hcclxuICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKGNsYXNzQ29udGVudCk7XHJcbiAgICAgICAgICAgIC8vIFNlIGNyZWEgZWwgYm90w7NuIGRlIGNlcnJhclxyXG4gICAgICAgICAgICBjbG9zZU4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGNsb3NlTi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xhc3NDbG9zZSk7XHJcbiAgICAgICAgICAgIGNsb3NlTi5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ2NlcnJhcicpO1xyXG4gICAgICAgICAgICAvLyBTZSBjcmVhIGVsIGNvbnRlbmlkbyBkZWwgbGlnaHRib3hcclxuICAgICAgICAgICAgY29udGVudExCLmNsYXNzTGlzdC5hZGQoY2xhc3NDb250ZW50TEIpO1xyXG4gICAgICAgICAgICAvLyBTZSBjcmVhIGVsIGZvbmRvXHJcbiAgICAgICAgICAgIGJnLmNsYXNzTGlzdC5hZGQoY2xhc3NCZyk7XHJcbiAgICAgICAgICAgIC8vIFNlIGFkaWNpb25hbiBsb3MgZWxlZW1udG9zIGRlIGNhZGEgdW5vXHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY2xvc2VOKTtcclxuICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50TEIpO1xyXG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGJnKTtcclxuICAgICAgICAgICAgY3R4LnBvcHVwID0gd3JhcHBlcjtcclxuXHJcbiAgICAgICAgICAgIC8vIFNlIGFkaWNpb25hIGVsIGxpZ2h0Ym94IGFsIGVsZW1lbnRvIGluZGljYWRvXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocVBhcmVudCB8fCAnYm9keScpLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xyXG4gICAgICAgIH0gLy8gZW5kIGVsc2VcclxuXHJcbiAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgIH1cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLypcclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIEZ1bmNpw7NuIHBhcmEgc2ltdWxhciB1bmEgZXN0cnVjdHVyYSBkZSBwcm9taXNlXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBQYXJhbWV0ZXJzOiBcclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIEBjYjogRnVuY2nDs24gZGUgY2FsbGJhY2tcclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGZuVGhlbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICB2YXIgY3R4ID0gdGhpczsgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoY3R4LmFuaW1hdGlvbnNDb3VudCA9PSAxKSBjdHguY2FsbGJhY2sgPSByZXNvbHZlOyAvLyBTaG93ICAgICAgICBcclxuICAgICAgICBlbHNlIGlmKCFjdHguYW5pbWF0aW9uc0NvdW50ID09IDApIGN0eC5jYWxsYmFjayA9IHJlc29sdmU7IC8vIEhpZGVcclxuICAgICAgICBlbHNlIHJlc29sdmUoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgIH1cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gUHVibGljIEFQSSAoRXZlbnRzKVxyXG4gICAgSkxpZ2h0Ym94LnByb3RvdHlwZS5zaG93ID0gZm5TaG93O1xyXG4gICAgSkxpZ2h0Ym94LnByb3RvdHlwZS5oaWRlID0gZm5IaWRlO1xyXG4gICAgSkxpZ2h0Ym94LnByb3RvdHlwZS50aGVuID0gZm5UaGVuO1xyXG5cclxuICAgIC8qXHJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIG9idGVuZXIgbGEgaW5zdGFuY2lhIGRlbCBKU2xpZGVcclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGZuR2V0SW5zdGFuY2UoX2FyZ3MpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEpMaWdodGJveChfYXJncyk7XHJcbiAgICB9XHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAvLyBQdWJsaWMgQVBpXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgZm5HZXRJbnN0YW5jZS5zaG93ID0gZm5TaG93O1xyXG4gICAgZm5HZXRJbnN0YW5jZS5oaWRlID0gZm5IaWRlO1xyXG5cclxuICAgIGpyLmFkZE5TKFwiamxpZ2h0Ym94XCIsIGZuR2V0SW5zdGFuY2UpO1xyXG4gICAganIuamxpZ2h0Ym94LnNob3cgPSBmblNob3c7XHJcbiAgICBqci5qbGlnaHRib3guaGlkZSA9IGZuSGlkZTtcclxufSkoKTtcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iXSwiZmlsZSI6ImFzc2V0cy9qcy9jb250cm9scy9qbGlnaHRib3guanMifQ==
